#!/usr/bin/env php
<?php
/**
 * Created by PhpStorm.
 * User: nicolas
 * Date: 05/02/17
 * Time: 14:29
 */

define('VERSION_CHECKER_URL', 'https://devgiants.github.io/website-backup/get-last-version.php');

require __DIR__ . '/../vendor/autoload.php';

use Symfony\Component\Console\Application;
use Devgiants\Command;
use Pimple\Container;
use Devgiants\Service\BackupTools;

$application = new Application('backup', '@package_version@');

$container = new Container();

$container['tools'] = new BackupTools();

// Register commands
$application->add(new Command\BackupCommand('backup', $container));
$application->add(new Command\RetrieveBackupCommand('retrieve', $container));
$application->add(new Command\UpdateCommand('self-update'));

$application->run();